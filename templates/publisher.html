{% extends "base.html" %}

{% block body %}
<h4>All packages published by {{ publisher }}</h4>

<div class="table-responsive">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Title</th>
      </tr>
    </thead>
    <tbody>
      {% for resource in resources %}
      <tr>
        <td>
          <span class="label label-{% if resource["filetype"] == "organisation" %}default{% else %}primary{% endif %}">{{ resource["filetype"] }} file</span>

          {% if resource["filetype"] == "activity" %}
          <a href="{{ url_for('run_tests', package_name=resource["package_name"]) }}">{{ resource["title"] }}</a>
          {% else %}
          {{ resource["title"] }}
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<div class="text-center">
  <nav aria-label="Page navigation">
    <ul class="pagination pagination-lg">
      {% if current_page == 1 %}
      <li class="disabled"><span aria-hidden="true">&laquo;</span></li>
      {% else %}
      <li>
        <a href="{{ url_for('publisher', publisher=publisher, page=(current_page - 1)) }}" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
        </a>
      </li>
      {% endif %}

      {% for page in range(1, pages+1) %}
      <li{% if page == current_page %} class="active"{% endif %}>
        <a href="{{ url_for('publisher', publisher=publisher, page=page) }}">
          {{ page }}
        </a>
      </li>
      {% endfor %}

      {% if current_page == pages %}
      <li class="disabled"><span aria-hidden="true">&raquo;</span></li>
      {% else %}
      <li>
        <a href="{{ url_for('publisher', publisher=publisher, page=(current_page + 1)) }}" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
        </a>
      </li>
      {% endif %}
    </ul>
  </nav>
</div>
{% endblock %}
