indicators:
 - name: Start dates chronologically before end dates
   tests:
    - name: result indicator start dates should be chronologically before end dates
      expression: >
       `result/indicator/period/period-start/@iso-date`
       should be before
       `result/indicator/period/period-end/@iso-date`

    - name: recipient-org-budget start dates should be chronologically before end dates
      expression: >
       `recipient-org-budget/period-start/@iso-date`
       should be before
       `recipient-org-budget/period-end/@iso-date`

    - name: recipient-region-budget start dates should be chronologically before end dates
      expression: >
       `recipient-region-budget/period-start/@iso-date`
       should be before
       `recipient-region-budget/period-end/@iso-date`

    - name: planned-disbursement start dates should be chronologically before end dates
      expression: >
       `planned-disbursement/period-start/@iso-date`
       should be before
       `planned-disbursement/period-end/@iso-date`

    - name: recipient-country-budget start dates should be chronologically before end dates
      expression: >
       `recipient-country-budget/period-start/@iso-date`
       should be before
       `recipient-country-budget/period-end/@iso-date`

    - name: total-expenditure start dates should be chronologically before end dates
      expression: >
       `total-expenditure/period-start/@iso-date`
       should be before
       `total-expenditure/period-end/@iso-date`

    - name: planned start dates should be chronologically before end dates
      expression: >
       `activity-date[@type='1']/@iso-date`
       should be before
       `activity-date[@type='3']/@iso-date`

    - name: actual start dates should be chronologically before end dates
      expression: >
       `activity-date[@type='2']/@iso-date`
       should be before
       `activity-date[@type='4']/@iso-date`

    - name: budget start dates should be chronologically before end dates
      expression: >
       `budget/period-start/@iso-date`
       should be before
       `budget/period-end/@iso-date`

 - name: Actual (known) dates should be in the past
   tests:
    - name: actual start dates should be in the past
      expression: >
       `activity-date[@type='2']/@iso-date`
       should be today, or in the past

    - name: actual end dates should be in the past
      expression: >
       `activity-date[@type='4']/@iso-date`
       should be today, or in the past

    - name: transaction date should be in the past
      expression: >
       `transaction/transaction-date/@iso-date`
       should be today, or in the past

    - name: value date should be in the past
      expression: >
       `transaction/value-date/@iso-date`
       should be today, or in the past

 - name: Elements that should be present
   tests:
    - name: start or planned start dates should be declared
      expression: >
       `activity-date[@type="1"]` should be present
       or `activity-date[@type="2"]` should be present

    - name: sectors should be present
      expression: >
       `sector` should be present
       or `transaction/sector` should be present

    - name: participating-org ref should be present
      expression: >
       `participating-org/@ref` should be present
       or `participating-org/narrative` should be present

    - name: reporting-org ref is valid
      expression: >
       `reporting-org/@ref` should match the regex [^\/\&\|\?]+

    - name: iati-identifier is valid
      expression: >
       `iati-identifier/text()` should match the regex [^\/\&\|\?]+

    - name: participating-org ref is valid
      expression: >
       `participating-org/@ref` should match the regex [^\/\&\|\?]+

    - name: provider-org ref is valid
      expression: >
       `transaction/provider-org/@ref` should match the regex [^\/\&\|\?]+

    - name: receiver-org ref is valid
      expression: >
       `transaction/receiver-org/@ref` should match the regex [^\/\&\|\?]+
